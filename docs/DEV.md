# Open Graph 开发文档

## 项目形态

项目是一个纯前端单独部署的项目，交互方式上来说既可以作为单独的一个系统部署，也可以作为一个单独的子模块嵌套，但是子模块嵌套也是部署后通过 Iframe 的方式。

> 如果要实现交互，需要后端进行接口的实现。推荐使用 RESTFUL 方案实现增删改查。

## 接口相关

整个前端相关接口一共就 5 个。

### 新增图表

```js
/**
 * 新增图表
 * method: POST
 * path: /api/diagram
 * return: id
 **/
{
  title: '图表名称',
  thumbnail: '图表缩略图',
  author: '图表作者',
  xml: '图表内容',
}
```

### 更新图表

```js
/**
 * 新增图表
 * method: PUT
 * path: /api/diagram/:id
 * return: true/false
 **/
{
  title: '图表名称',
  thumbnail: '图表缩略图',
  author: '图表作者',
  xml: '图表内容',
}
```

### 查询图表列表

```js
/**
 * 查询图表列表
 * method: GET
 * path: /api/diagram/list
 * return: Array<Graph>
 **/
```

### 查询图表详情

```js
/**
 * 查询图表详情
 * method: GET
 * path: /api/diagram/id
 * return: Graph
 **/
```

## 项目进度

| 具体条目                 | 描述                                                      | 进度   |
| ------------------------ | --------------------------------------------------------- | ------ |
| 项目初始化逻辑精简       | 移除所有不必要的选择性弹窗，进入系统直接就是图表逻辑      | 已完成 |
| 前后端存储逻辑           | 新建文件、编辑文件                                        | 已完成 |
| 图表的缩略图（列表展示） | 支持保存生成缩略图                                        | 已完成 |
| 添加自定义 SVG 图形      | 支持添加自定义图形，重新设置 general 面板                 | 已完成 |
| 拖拽添加属性（ip/port）  | 大部分图形拖拽自动添加 ip 和 port，某些图形添加另外的属性 | 50%    |
| 右键菜单精简             | 精简不必要的右键菜单                                      | 未完成 |
| 支持 IFrame 嵌套         | 既支持单独部署查看，也支持嵌入到其它系统作为模块使用      | 未完成 |
| 页面操作精简             | 去除不必要的内容条目                                      | 未完成 |
| 属性表格展示             | 点击某个位置查看属性表格                                  | 未完成 |
